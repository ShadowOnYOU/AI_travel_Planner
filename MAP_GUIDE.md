# 地图导航功能使用指南

## 📍 功能概述

AI旅行规划师现已集成完整的地图导航功能，提供：
- 高德地图集成显示
- 行程路线可视化
- 多平台导航支持
- 地点详情查看

## 🗺️ 地图功能

### 地图显示
- **自动定位**: 根据目的地自动定位地图中心
- **景点标记**: 不同类型地点使用不同图标
  - 🎯 景点
  - 🏨 住宿
  - 🍽️ 餐厅
  - 🚇 交通
- **路线绘制**: 自动连接行程中的地点，显示建议路线

### 地图控制
- **显示/隐藏**: 点击"显示地图"/"隐藏地图"切换
- **路线开关**: 可选择是否显示连接路线
- **缩放操作**: 支持鼠标滚轮和触摸缩放
- **拖拽浏览**: 支持拖拽查看不同区域

## 🧭 导航功能

### 导航入口
1. **地图点击**: 直接点击地图上的地点标记
2. **行程导航**: 在每日行程中点击"🧭 导航"按钮

### 导航选项
- **步行导航** 🚶: 适合短距离，显示步行路线
- **驾车导航** 🚗: 适合自驾游，显示最优行车路线  
- **公交导航** 🚌: 显示公共交通路线和换乘信息

### 支持平台
- **智能选择**: 根据设备环境自动选择合适的地图应用
- **高德地图**: 国内定位精准，数据详细
- **百度地图**: 覆盖全面，功能丰富
- **腾讯地图**: 微信环境下的首选

## 🔧 设置配置

### API Key 配置
1. 点击导航栏中的"🗺️ 地图设置"
2. 输入高德地图 API Key
3. 点击保存并刷新页面

### 获取 API Key
1. 访问 [高德开放平台](https://console.amap.com/)
2. 注册账号并创建应用
3. 选择 Web 端服务平台
4. 复制生成的 API Key

## 📱 使用流程

### 查看地图
1. 进入任意行程详情页面
2. 地图会自动显示，标记所有行程地点
3. 点击地图上的标记查看详情或导航

### 开始导航
1. 点击地图标记或行程中的导航按钮
2. 选择导航方式（步行/驾车/公交）
3. 选择地图应用（推荐使用智能选择）
4. 系统将在新窗口打开对应的地图应用

### 查看地点详情
1. 点击地图上的地点标记
2. 弹出详情窗口显示：
   - 基本信息（位置、时间、费用等）
   - 照片展示（功能开发中）
   - 用户评价（功能开发中）
3. 可直接在详情窗口中开始导航

## 🎯 最佳实践

### 使用建议
- **提前规划**: 在出发前查看完整路线，了解各地点位置关系
- **实时导航**: 到达目的地后使用导航功能前往具体地点
- **多平台对比**: 不同地图应用可能有不同的路线推荐
- **网络准备**: 确保有稳定的网络连接用于地图加载

### 注意事项
- 地图需要高德地图 API Key 才能正常显示
- 导航功能需要浏览器定位权限
- 某些区域可能存在地图数据精度差异
- 建议结合实际情况调整路线

## 🔍 故障排除

### 常见问题

**地图无法显示**
- 检查 API Key 是否正确配置
- 确认网络连接正常
- 尝试刷新页面

**导航无法打开**
- 检查浏览器是否阻止弹窗
- 确认设备已安装对应的地图应用
- 尝试使用其他导航应用

**定位不准确**
- 检查浏览器定位权限设置
- 在室外开阔地带重新获取位置
- 手动输入起始位置

**地点显示错误**
- 地点坐标基于目的地城市自动生成
- 可能与实际位置有偏差
- 建议以实际导航结果为准

## 🚀 未来功能

计划中的功能改进：
- 实时路况信息
- 地点照片和评价
- 自定义路线编辑
- 离线地图下载
- AR 导航支持

---

*如有问题或建议，请联系开发团队*